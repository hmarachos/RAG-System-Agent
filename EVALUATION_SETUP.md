# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ü–µ–Ω–∫–∏ RAG —Å–∏—Å—Ç–µ–º—ã

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å PyTorch –Ω–∞ Windows

–£—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π PyTorch DLL –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω–∞ Windows.

### –ü—Ä–æ–±–ª–µ–º–∞:
```
OSError: [WinError 1114] –ü—Ä–æ–∏–∑–æ—à–µ–ª —Å–±–æ–π –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ (DLL). 
Error loading "torch\lib\c10.dll" or one of its dependencies.
```

### –†–µ—à–µ–Ω–∏–µ:
1. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ PyTorch —Å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π –≤–µ—Ä—Å–∏–µ–π**:
```bash
pip uninstall torch -y
pip install torch==2.0.1 --index-url https://download.pytorch.org/whl/cpu
```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –≤–µ—Ä—Å–∏–∏** –≤–º–µ—Å—Ç–æ CUDA –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ Windows

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ—Ü–µ–Ω–∫–∏

### 1. RAGAS (–ü–æ–ª–Ω–∞—è –æ—Ü–µ–Ω–∫–∞) - `evaluate_ragas.py`
- **–ú–µ—Ç—Ä–∏–∫–∏**: Faithfulness, Context Precision
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: PyTorch, datasets, ragas
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 2-3 –º–∏–Ω—É—Ç—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

**–ó–∞–ø—É—Å–∫**:
```bash
cd assistant_api
python evaluate_ragas.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- Faithfulness: 0.9667 (–æ—Ç–ª–∏—á–Ω–æ)
- Context Precision: 1.0000 (–∏–¥–µ–∞–ª—å–Ω–æ)
- **–û–±—â–∏–π –±–∞–ª–ª**: 0.9833 (–æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)

### 2. –ü—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ - `evaluate_simple.py`
- **–ú–µ—Ç—Ä–∏–∫–∏**: Faithfulness, Relevance, Context Quality, Clarity
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: –¢–æ–ª—å–∫–æ OpenAI API
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 1-2 –º–∏–Ω—É—Ç—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑ PyTorch –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ó–∞–ø—É—Å–∫**:
```bash
cd assistant_api
python evaluate_simple.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- Faithfulness: 1.000
- Relevance: 0.900
- Context Quality: 0.925
- Clarity: 0.950
- **–û–±—â–∏–π –±–∞–ª–ª**: 0.944 (–æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **PyTorch**: 2.0.1+cpu (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Windows)
- **RAGAS**: 0.4.2 (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏ –º–µ—Ç—Ä–∏–∫)
- **Qdrant**: 1.16.2 (–∑–∞–º–µ–Ω–∏–ª ChromaDB –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `assistant_api/evaluate_ragas.py` - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è RAGAS –æ—Ü–µ–Ω–∫–∞
- `assistant_api/evaluate_simple.py` - –ø—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑ PyTorch
- `assistant_api/rag_pipeline.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- `requirements.txt` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ** (–±–∞–ª–ª > 0.94)
- **–í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤** - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–µ—Ç —Ñ–∞–∫—Ç—ã
- **–ò–¥–µ–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û—Ç–ª–∏—á–Ω–∞—è —è—Å–Ω–æ—Å—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏—è** - –æ—Ç–≤–µ—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø–æ–Ω—è—Ç–Ω—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
2. ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ chunking –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ
3. ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ –ü—Ä–æ–º–ø—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞
python evaluate_simple.py

# –ü–æ–ª–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
python evaluate_ragas.py
```

### –î–ª—è CI/CD:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –≤ pipeline
python evaluate_simple.py > evaluation_report.txt
```

### –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `evaluation_results.json`
- –ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- ‚úÖ PyTorch —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Qdrant –∑–∞–º–µ–Ω–∏–ª ChromaDB
- ‚úÖ RAGAS –æ—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–µ—Å—É—Ä—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º —Ä–∞–±–æ—Ç—ã!